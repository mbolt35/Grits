<?xml version="1.0" encoding="utf-8"?>
<!--
////////////////////////////////////////////////////////////////////////////////
//
//  MATTBOLT.BLOGSPOT.COM
//  Copyright(C) 2010 Matt Bolt
//
//  Licensed under the Apache License, Version 2.0 (the "License");
//  you may not use this file except in compliance with the License.
//  You may obtain a copy of the License at:
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
//  Unless required by applicable law or agreed to in writing, software
//  distributed under the License is distributed on an "AS IS" BASIS,
//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//  See the License for the specific language governing permissions and
//  limitations under the License.
//
////////////////////////////////////////////////////////////////////////////////
-->

<!---
* This class represents a single node in an IFoneSettingsPane.
* 
* @author Matt Bolt [mbolt35&#64;gmail.com]
-->
<s:Group 
    xmlns:fx="http://ns.adobe.com/mxml/2009" 
    xmlns:s="library://ns.adobe.com/flex/spark" 
    xmlns:mx="library://ns.adobe.com/flex/mx" 
    xmlns:ifone="com.mattbolt.ifone.*"
    creationComplete="onCreationComplete();"
    width="200" height="35" >
    
    <fx:Declarations>
        <!---
         * This property is set to <code>true</code> when the node is the top most node in the
         * pane
         -->
        <fx:Boolean id="isTop"/>
        
        <!---
         * This property is set to <code>true</code> when the node is the bottom most node in the
         * pane
        -->
        <fx:Boolean id="isBottom"/>
        
        <!---
         * This property represents the total radius to use for the top and bottom curves.
         *
         * @default 7.5
        -->
        <fx:Number id="radius">7.5</fx:Number>
        
        <!---
         * This property contains the text to use in the label.
        -->
        <fx:String id="label"/>
        
        <!---
         * This property contains the name of the style to use with the label.
         -->
        <fx:String id="labelStyleName"/>
        
        <!---
         * This property contains the components to use within the node.
         -->
        <fx:Array id="components"/>
        
    </fx:Declarations>
    
    <fx:Script>
        <![CDATA[
            import mx.core.IVisualElement;
            

            /**
             * @private
             * handle creation complete
             */
            private function onCreationComplete():void {
                if (components) {
                    for (var i:int = 0; i < components.length; ++i) {
                        componentContainer.addElement(IVisualElement(components[i]));
                    }
                }
            }
            
            [Bindable]
            
            /**
             * This property is the image class to use for the icon.
             */
            public var iconImage:Class;
            
        ]]>
    </fx:Script>

    <!--- 
     * @private 
     -->
    <s:Rect id="backRect" x="0" y="0" width="100%" height="100%" 
        bottomLeftRadiusX="{isBottom ? radius : 0}" bottomLeftRadiusY="{isBottom ? radius : 0}" 
        bottomRightRadiusX="{isBottom ? radius : 0}" bottomRightRadiusY="{isBottom ? radius : 0}"
        topLeftRadiusX="{isTop ? radius : 0}" topLeftRadiusY="{isTop ? radius : 0}"
        topRightRadiusX="{isTop ? radius : 0}" topRightRadiusY="{isTop ? radius : 0}">
        <s:fill>
            <s:SolidColor color="#FFFFFF"/>
        </s:fill>
        
        <s:stroke>
            <s:SolidColorStroke color="#282828" pixelHinting="true" caps="round" weight="1"/>
        </s:stroke>
    </s:Rect>
    
    <!--- 
     * @private 
     -->
    <s:Group id="componentContainer" width="100%" height="100%">
        <s:layout>
            <s:HorizontalLayout verticalAlign="middle" horizontalAlign="center" paddingLeft="5" paddingRight="5" gap="5"/>
        </s:layout>
 
        <ifone:IFoneIcon visible="{iconImage != null}" icon="{iconImage}"/>
        
        <s:Label width="{label != null ? this.width : 0}" text="{label}" styleName="{labelStyleName}"/>
    </s:Group>
    
</s:Group>
